# Sistema POS - Point of Sale

Sistema completo de punto de venta (POS) con arquitectura moderna, validaciones robustas y manejo de errores estructurado.

## üìã Tabla de Contenidos

- [Caracter√≠sticas](#caracter√≠sticas)
- [Arquitectura](#arquitectura)
- [Tecnolog√≠as](#tecnolog√≠as)
- [Instalaci√≥n](#instalaci√≥n)
- [Configuraci√≥n](#configuraci√≥n)
- [Validaci√≥n y Manejo de Errores](#validaci√≥n-y-manejo-de-errores)
- [Documentaci√≥n](#documentaci√≥n)
- [Estructura del Proyecto](#estructura-del-proyecto)

---

## ‚ú® Caracter√≠sticas

### Funcionalidades Principales

- üîê **Autenticaci√≥n y Autorizaci√≥n**
  - Login con Google OAuth
  - Login tradicional con usuario/contrase√±a
  - Sistema de roles y permisos granulares
  - JWT para sesiones seguras

- üè¢ **Gesti√≥n Multi-Empresa**
  - Soporte para m√∫ltiples empresas
  - Sucursales y cajas por empresa
  - Aislamiento de datos por empresa

- üì¶ **Gesti√≥n de Inventario**
  - Productos con categor√≠as
  - Control de stock por almac√©n
  - Movimientos de inventario
  - Alertas de stock m√≠nimo

- üí∞ **Punto de Venta**
  - Ventas r√°pidas con interfaz intuitiva
  - M√∫ltiples m√©todos de pago
  - Serializaci√≥n de comprobantes
  - Impresi√≥n de tickets

- üìä **Reportes y An√°lisis**
  - Dashboard con m√©tricas clave
  - Reportes de ventas
  - An√°lisis de inventario
  - Auditor√≠a de operaciones

### Caracter√≠sticas T√©cnicas

- ‚úÖ **Validaci√≥n en M√∫ltiples Capas**
  - Frontend: Validaci√≥n con Zod en tiempo real
  - Backend: Validaci√≥n de DTOs con Zod
  - Base de Datos: Constraints y triggers

- ‚úÖ **Manejo de Errores Estructurado**
  - Errores personalizados por tipo
  - Mensajes amigables para usuarios
  - Logging detallado para desarrolladores
  - Transformaci√≥n autom√°tica de errores de BD

- ‚úÖ **Transformaci√≥n Autom√°tica de Datos**
  - camelCase en frontend
  - snake_case en backend/BD
  - Conversi√≥n transparente en capa API

- ‚úÖ **Componentes Reutilizables**
  - UI consistente en toda la aplicaci√≥n
  - Formularios gen√©ricos con validaci√≥n
  - Tablas con acciones CRUD
  - Layouts estandarizados

---

## üèóÔ∏è Arquitectura

### Arquitectura General

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                         Frontend (React)                     ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê      ‚îÇ
‚îÇ  ‚îÇ   Pages      ‚îÇ  ‚îÇ  Components  ‚îÇ  ‚îÇ    Store     ‚îÇ      ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò      ‚îÇ
‚îÇ         ‚îÇ                  ‚îÇ                  ‚îÇ              ‚îÇ
‚îÇ         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò              ‚îÇ
‚îÇ                           ‚îÇ                                  ‚îÇ
‚îÇ                    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                          ‚îÇ
‚îÇ                    ‚îÇ  API Layer  ‚îÇ (Transformaci√≥n)         ‚îÇ
‚îÇ                    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚îÇ HTTP/JSON
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                      Backend (Express)                       ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê      ‚îÇ
‚îÇ  ‚îÇ Controlador  ‚îÇ‚Üí ‚îÇ   Servicio   ‚îÇ‚Üí ‚îÇ Repositorio  ‚îÇ      ‚îÇ
‚îÇ  ‚îÇ  (HTTP)      ‚îÇ  ‚îÇ  (Negocio)   ‚îÇ  ‚îÇ   (Datos)    ‚îÇ      ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò      ‚îÇ
‚îÇ         ‚îÇ                  ‚îÇ                  ‚îÇ              ‚îÇ
‚îÇ         ‚îÇ                  ‚îÇ                  ‚îÇ              ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê      ‚îÇ
‚îÇ  ‚îÇ           Middleware (Auth, Errors, Logs)         ‚îÇ      ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                 ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    Base de Datos (MySQL)                     ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê      ‚îÇ
‚îÇ  ‚îÇ    Tablas    ‚îÇ  ‚îÇ  Constraints ‚îÇ  ‚îÇ   Triggers   ‚îÇ      ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Flujo de Datos

1. **Usuario ‚Üí Frontend**: Interacci√≥n con UI
2. **Frontend ‚Üí API Layer**: Transformaci√≥n camelCase ‚Üí snake_case
3. **API Layer ‚Üí Backend**: Request HTTP con datos transformados
4. **Backend Controlador**: Recibe request, extrae datos
5. **Backend Servicio**: Valida con Zod, aplica l√≥gica de negocio
6. **Backend Repositorio**: Ejecuta queries en BD
7. **BD ‚Üí Backend**: Retorna datos
8. **Backend ‚Üí API Layer**: Response con datos
9. **API Layer ‚Üí Frontend**: Transformaci√≥n snake_case ‚Üí camelCase
10. **Frontend ‚Üí Usuario**: Muestra datos en UI

---

## üõ†Ô∏è Tecnolog√≠as

### Frontend

- **React 18** - Librer√≠a de UI
- **Vite** - Build tool y dev server
- **React Router** - Enrutamiento
- **TanStack Query** - Gesti√≥n de estado del servidor
- **Zustand** - Gesti√≥n de estado global
- **Zod** - Validaci√≥n de schemas
- **Axios** - Cliente HTTP
- **Tailwind CSS** - Estilos
- **Recharts** - Gr√°ficos

### Backend

- **Node.js** - Runtime
- **Express** - Framework web
- **Knex.js** - Query builder
- **MySQL2** - Driver de MySQL
- **Zod** - Validaci√≥n de schemas
- **Passport** - Autenticaci√≥n
- **JWT** - Tokens de sesi√≥n
- **Bcrypt** - Hash de contrase√±as
- **Winston** - Logging

### Base de Datos

- **MySQL 8.0** - Base de datos relacional
- **Knex Migrations** - Migraciones de esquema

---

## üì¶ Instalaci√≥n

### Prerrequisitos

- Node.js >= 18.0.0
- MySQL >= 8.0
- npm o yarn

### Clonar Repositorio

```bash
git clone <repository-url>
cd posNew
```

### Instalar Dependencias

```bash
# Backend
cd backend
npm install

# Frontend
cd ../frontend
npm install
```

### Configurar Base de Datos

```bash
cd backend

# Crear base de datos
node db/init.js create

# Ejecutar migraciones
node db/init.js reset

# Ver estado
node db/init.js status
```

---

## ‚öôÔ∏è Configuraci√≥n

### Variables de Entorno - Backend

Crear archivo `.env` en `backend/`:

```env
# Base de Datos
DB_HOST=localhost
DB_PORT=3306
DB_USER=root
DB_PASSWORD=tu_password
DB_NAME=pos_db

# JWT
JWT_SECRET=tu_secret_key_muy_seguro

# Google OAuth
GOOGLE_CLIENT_ID=tu_client_id
GOOGLE_CLIENT_SECRET=tu_client_secret
GOOGLE_CALLBACK_URL=http://localhost:3000/api/auth/google/callback

# Servidor
PORT=3000
NODE_ENV=development

# Frontend URL
FRONTEND_URL=http://localhost:5173
```

### Variables de Entorno - Frontend

Crear archivo `.env` en `frontend/`:

```env
VITE_API_URL=http://localhost:3000/api
VITE_GOOGLE_CLIENT_ID=tu_client_id
```

### Iniciar Servidores

```bash
# Backend (puerto 3000)
cd backend
npm run dev

# Frontend (puerto 5173)
cd frontend
npm run dev
```

Acceder a: `http://localhost:5173`

---

## ‚úÖ Validaci√≥n y Manejo de Errores

### Sistema de Validaci√≥n

El sistema implementa validaci√≥n en 3 capas:

#### 1. Frontend (Validaci√≥n de UI)

```javascript
// Schema con Zod
const categorySchema = z.object({
  codigo: z.string().min(1, 'El c√≥digo es requerido').max(20),
  nombre: z.string().min(1, 'El nombre es requerido').max(100),
  color: z.string().regex(/^#[0-9A-Fa-f]{6}$/, 'Color hexadecimal inv√°lido')
});

// Validaci√≥n en componente
const validation = validateCategory(formData);
if (!validation.success) {
  setErrors(validation.errors); // Muestra errores por campo
  return;
}
```

#### 2. Backend (Validaci√≥n de Negocio)

```javascript
// DTO con Zod
const esquemaCrearCategoria = z.object({
  id_empresa: z.number().int().positive(),
  codigo: z.string().min(1).max(20),
  nombre: z.string().min(1).max(100)
});

// Validaci√≥n en servicio
async function crearCategoria(datos) {
  // Validaci√≥n de schema
  const datosValidados = esquemaCrearCategoria.parse(datos);
  
  // Validaci√≥n de unicidad
  const existente = await repositorio.obtenerPorCodigo(datosValidados.codigo);
  if (existente) {
    throw new UniqueConstraintError('c√≥digo', datosValidados.codigo);
  }
  
  // Crear
  return await repositorio.crear(datosValidados);
}
```

#### 3. Base de Datos (Constraints)

```sql
CREATE TABLE categorias (
  id INT PRIMARY KEY AUTO_INCREMENT,
  codigo VARCHAR(20) NOT NULL,
  nombre VARCHAR(100) NOT NULL,
  UNIQUE KEY unique_codigo_empresa (id_empresa, codigo)
);
```

### Tipos de Errores

El sistema maneja 4 tipos principales de errores:

#### ValidationError (400)
Datos inv√°lidos o faltantes

```javascript
throw new ValidationError('El c√≥digo es requerido', 'codigo');
```

#### UniqueConstraintError (409)
Violaci√≥n de unicidad

```javascript
throw new UniqueConstraintError('c√≥digo', 'CAT-001');
// Mensaje: "El valor 'CAT-001' ya existe para el campo c√≥digo"
```

#### DependencyError (409)
No se puede eliminar por dependencias

```javascript
throw new DependencyError('la categor√≠a', { productos: 15 });
// Mensaje: "No se puede eliminar la categor√≠a porque tiene 15 productos"
```

#### AuthenticationError (401)
No autenticado o token inv√°lido

```javascript
throw new AuthenticationError('Token inv√°lido o expirado');
```

### Manejo de Errores en Frontend

```javascript
const deleteMut = useMutation({
  mutationFn: deleteCategory,
  onSuccess: () => {
    success('Categor√≠a eliminada correctamente');
  },
  onError: (err) => {
    // err.userMessage contiene mensaje amigable
    // err.type contiene el tipo de error
    // err.data contiene detalles adicionales
    showError(err?.userMessage || 'Error al eliminar categor√≠a');
  }
});
```

---

## üìö Documentaci√≥n

### Documentos Disponibles

- **[Patrones de C√≥digo](./docs/CODING_PATTERNS.md)** - Patrones y mejores pr√°cticas
- **[Gu√≠a de Validaci√≥n](./docs/VALIDATION_GUIDE.md)** - C√≥mo implementar validaciones
- **[Documentaci√≥n de BD](./backend/db/DOCUMENTACION_BD.md)** - Esquema de base de datos

### Ejemplos de Uso

#### Crear un Nuevo M√≥dulo de Configuraci√≥n

1. **Crear Schema de Validaci√≥n** (`frontend/src/features/settings/schemas/`)
2. **Crear DTO Backend** (`backend/src/api/[entidad]/dto.[entidad].js`)
3. **Crear Repositorio** (`backend/src/api/[entidad]/repositorio.[entidad].js`)
4. **Crear Servicio** (`backend/src/api/[entidad]/servicio.[entidad].js`)
5. **Crear Controlador** (`backend/src/api/[entidad]/controlador.[entidad].js`)
6. **Crear Rutas** (`backend/src/api/[entidad]/rutas.[entidad].js`)
7. **Crear API Calls** (`frontend/src/features/settings/api/[entidad].api.js`)
8. **Crear P√°gina** (`frontend/src/pages/[Entidad]Page.jsx`)

Ver [CODING_PATTERNS.md](./docs/CODING_PATTERNS.md) para ejemplos detallados.

---

## üìÅ Estructura del Proyecto

```
posNew/
‚îú‚îÄ‚îÄ backend/
‚îÇ   ‚îú‚îÄ‚îÄ db/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ schema.sql              # Esquema de base de datos
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ seeds.sql               # Datos iniciales
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ init.js                 # Script de inicializaci√≥n
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ api/                    # M√≥dulos de API
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ categorias/
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ controlador.categorias.js
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ servicio.categorias.js
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ repositorio.categorias.js
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ dto.categorias.js
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ rutas.categorias.js
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ .../
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ config/                 # Configuraci√≥n
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ middlewares/            # Middlewares
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ shared/                 # Utilidades compartidas
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ utils/
‚îÇ   ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ errorHandler.js # Manejo de errores
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ app.js                  # Configuraci√≥n de Express
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ server.js               # Punto de entrada
‚îÇ   ‚îî‚îÄ‚îÄ package.json
‚îÇ
‚îú‚îÄ‚îÄ frontend/
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ app/                    # Configuraci√≥n de app
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ features/               # M√≥dulos por funcionalidad
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ settings/
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ api/            # API calls
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ components/     # Componentes
‚îÇ   ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ schemas/        # Schemas de validaci√≥n
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ pages/                  # P√°ginas
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ shared/                 # Compartido
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/         # Componentes reutilizables
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ hooks/              # Hooks personalizados
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ utils/              # Utilidades
‚îÇ   ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ fieldTransform.js # Transformaci√≥n de datos
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ store/                  # Estado global
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ utils/                  # Utilidades
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ errorHandler.js     # Manejo de errores
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ main.jsx                # Punto de entrada
‚îÇ   ‚îî‚îÄ‚îÄ package.json
‚îÇ
‚îî‚îÄ‚îÄ docs/
    ‚îú‚îÄ‚îÄ CODING_PATTERNS.md          # Patrones de c√≥digo
    ‚îî‚îÄ‚îÄ VALIDATION_GUIDE.md         # Gu√≠a de validaci√≥n
```

---

## üß™ Testing

### Ejecutar Tests

```bash
# Backend
cd backend
npm test

# Frontend
cd frontend
npm test
```

### Cobertura de Tests

- ‚úÖ Schemas de validaci√≥n
- ‚úÖ Transformaci√≥n de datos
- ‚úÖ Manejo de errores
- ‚úÖ Repositorios
- ‚úÖ Servicios

---

## üöÄ Despliegue

### Build de Producci√≥n

```bash
# Frontend
cd frontend
npm run build
# Genera carpeta dist/

# Backend
cd backend
# No requiere build, usar PM2 o similar
```

### Variables de Entorno de Producci√≥n

Aseg√∫rate de configurar:
- `NODE_ENV=production`
- URLs de producci√≥n
- Credenciales seguras
- SSL/TLS habilitado

---

## ü§ù Contribuir

1. Fork el proyecto
2. Crea una rama para tu feature (`git checkout -b feature/AmazingFeature`)
3. Commit tus cambios (`git commit -m 'Add some AmazingFeature'`)
4. Push a la rama (`git push origin feature/AmazingFeature`)
5. Abre un Pull Request

### Gu√≠as de Estilo

- Seguir patrones establecidos en [CODING_PATTERNS.md](./docs/CODING_PATTERNS.md)
- Validar todos los inputs con Zod
- Manejar errores apropiadamente
- Escribir tests para funcionalidad cr√≠tica
- Documentar c√≥digo complejo

---

## üìù Licencia

Este proyecto es privado y confidencial.

---

## üë• Equipo

Desarrollado con ‚ù§Ô∏è por el equipo de desarrollo.

---

## üìû Soporte

Para soporte o preguntas:
- Revisa la [documentaci√≥n](./docs/)
- Abre un issue en el repositorio
- Contacta al equipo de desarrollo
