# Layout Visual Guide

## Desktop Layout (โฅ768px)

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                                                             โ
โ  โโโโโโโโโโโโ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ  โ          โ  โ  Header (sticky)                      โ   โ
โ  โ          โ  โ  โโโโโโโโโโ              โโโโโโโโโโโ โ   โ
โ  โ          โ  โ  โ [โก]    โ  Dashboard   โ [๐ค โผ] โ โ   โ
โ  โ          โ  โ  โโโโโโโโโโ              โโโโโโโโโโโ โ   โ
โ  โ          โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ  โ          โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ  โ  Sidebar โ  โ                                      โ   โ
โ  โ  (fixed) โ  โ  Main Content Area                   โ   โ
โ  โ          โ  โ  (scrollable)                        โ   โ
โ  โ  โข Home  โ  โ                                      โ   โ
โ  โ  โข Dash  โ  โ  โโโโโโโโโโ โโโโโโโโโโ โโโโโโโโโโ  โ   โ
โ  โ  โข Prod  โ  โ  โ Card 1 โ โ Card 2 โ โ Card 3 โ  โ   โ
โ  โ          โ  โ  โโโโโโโโโโ โโโโโโโโโโ โโโโโโโโโโ  โ   โ
โ  โ          โ  โ                                      โ   โ
โ  โ          โ  โ  Content continues...                โ   โ
โ  โ          โ  โ                                      โ   โ
โ  โ  โโโโโโ  โ  โ                                      โ   โ
โ  โ  โUserโ  โ  โ                                      โ   โ
โ  โ  โโโโโโ  โ  โ                                      โ   โ
โ  โ  Logout  โ  โ                                      โ   โ
โ  โโโโโโโโโโโโ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ                                                             โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

**Key Features:**
- Sidebar is always visible (256px width)
- Header spans the remaining width
- Content area scrolls independently
- Sidebar is fixed position

## Mobile Layout (<768px)

### Sidebar Closed (Default)
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  Header                         โ
โ  โโโโโโ                โโโโโโโ โ
โ  โ โก  โ  Dashboard     โ ๐คโผ โ โ
โ  โโโโโโ                โโโโโโโ โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ                                 โ
โ  Main Content Area              โ
โ  (full width, scrollable)       โ
โ                                 โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ  โ Card 1                    โ โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ  โ Card 2                    โ โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ  โ Card 3                    โ โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ                                 โ
โ  Content continues...           โ
โ                                 โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### Sidebar Open
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ โโโโโโโโโโโโ [Backdrop]         โ
โ โ Sidebar  โ โโโโโโโโโโโโโโโโโโ โ
โ โ          โ โโโโโโโโโโโโโโโโโโ โ
โ โ  [X]     โ โโโโโโโโโโโโโโโโโโ โ
โ โ          โ โโโโโโโโโโโโโโโโโโ โ
โ โ โข Home   โ โโโโโโโโโโโโโโโโโโ โ
โ โ โข Dash   โ โโโโโโโโโโโโโโโโโโ โ
โ โ โข Prod   โ โโโโโโโโโโโโโโโโโโ โ
โ โ โข Sales  โ โโโโโโโโโโโโโโโโโโ โ
โ โ          โ โโโโโโโโโโโโโโโโโโ โ
โ โ          โ โโโโโโโโโโโโโโโโโโ โ
โ โ  โโโโโโ  โ โโโโโโโโโโโโโโโโโโ โ
โ โ  โUserโ  โ โโโโโโโโโโโโโโโโโโ โ
โ โ  โโโโโโ  โ โโโโโโโโโโโโโโโโโโ โ
โ โ  Logout  โ โโโโโโโโโโโโโโโโโโ โ
โ โโโโโโโโโโโโ โโโโโโโโโโโโโโโโโโ โ
โ              โโโโโโโโโโโโโโโโโโ โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

**Key Features:**
- Sidebar slides in from left
- Semi-transparent backdrop overlays content
- Clicking backdrop or navigating closes sidebar
- Sidebar is 256px width

## Header Component Details

### Desktop Header
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  Dashboard                          [๐ค John Doe โผ] โ
โ                                     Administrador    โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### Mobile Header
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  [โก]  Dashboard        [๐ค โผ]  โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### User Menu Dropdown
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  John Doe                   โ
โ  john@example.com           โ
โ  Administrador              โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ  ๐ค Mi Perfil               โ
โ  โ๏ธ  Configuraciรณn          โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ  ๐ช Cerrar Sesiรณn           โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

## Component Hierarchy

```
MainLayout
โโโ Sidebar (aside)
โ   โโโ Close button (mobile only)
โ   โโโ Logo/Brand
โ   โโโ Navigation menu
โ   โ   โโโ Home
โ   โ   โโโ Dashboard
โ   โ   โโโ Products
โ   โ   โโโ Sales
โ   โ   โโโ Reports (role-based)
โ   โ   โโโ Users (admin only)
โ   โ   โโโ Settings (admin only)
โ   โโโ User info + Logout
โ
โโโ Backdrop (mobile only, when sidebar open)
โ
โโโ Main content wrapper
    โโโ Header
    โ   โโโ Menu button (mobile only)
    โ   โโโ Page title
    โ   โโโ User menu
    โ       โโโ User avatar
    โ       โโโ Dropdown
    โ       โ   โโโ Profile
    โ       โ   โโโ Settings (admin only)
    โ       โ   โโโ Logout
    โ       โโโ Logout modal
    โ
    โโโ Content area
        โโโ <Outlet /> (page content)
```

## State Management Flow

```
useUIStore
    โ
    โโโ isSidebarOpen: boolean
    โ   โโโ Initial: true (desktop) / false (mobile)
    โ
    โโโ toggleSidebar()
    โ   โโโ Called by: Header menu button, Sidebar close button
    โ
    โโโ setSidebarOpen(isOpen)
        โโโ Called by: Backdrop click, route change (mobile)
```

## Responsive Behavior

### Breakpoint: 768px

**Below 768px (Mobile):**
- Sidebar: `fixed`, `translate-x-full` (hidden), slides in when open
- Header: Shows hamburger menu button
- Backdrop: Appears when sidebar is open
- User menu: Compact (avatar only)

**Above 768px (Desktop):**
- Sidebar: `relative`, always visible
- Header: No hamburger menu button
- Backdrop: Never appears
- User menu: Shows full user info

## Scroll Behavior

```
Root Container (h-screen overflow-hidden)
    โ
    โโโ Sidebar (overflow-y-auto)
    โ   โโโ Scrolls independently if content exceeds height
    โ
    โโโ Main Content Wrapper (flex-1 overflow-hidden)
        โ
        โโโ Header (sticky top-0)
        โ   โโโ Stays at top when content scrolls
        โ
        โโโ Content Area (overflow-y-auto)
            โโโ Scrolls independently
```

**Result:** No double scrollbars, smooth scrolling experience

## Z-Index Layers

```
Layer 4: Sidebar (z-30)
Layer 3: Backdrop (z-20)
Layer 2: Header (z-10)
Layer 1: Content (z-0)
```

## Color Scheme

### Sidebar
- Background: `bg-gray-800` (#1f2937)
- Text: `text-white`
- Active item: `bg-blue-600` (#2563eb)
- Hover: `bg-gray-700` (#374151)

### Header
- Background: `bg-white`
- Border: `border-gray-200` (#e5e7eb)
- Text: `text-gray-800` (#1f2937)

### Content Area
- Background: `bg-gray-50` (#f9fafb)

### Backdrop
- Background: `bg-black bg-opacity-50` (rgba(0,0,0,0.5))

## Transitions

### Sidebar Slide
```css
transition-transform duration-300 ease-in-out
```

### Hover Effects
```css
transition-colors duration-200
transition-all duration-200
```

## Accessibility

### ARIA Labels
- Menu button: `aria-label="Toggle menu"`
- User menu: `aria-label="User menu"`
- Close button: `aria-label="Cerrar menรบ"`
- Backdrop: `aria-hidden="true"`

### Keyboard Navigation
- Tab through all interactive elements
- Enter/Space to activate buttons
- Escape to close dropdowns (browser default)

## Testing Checklist

### Visual Testing
- [ ] Sidebar visible on desktop
- [ ] Sidebar hidden on mobile
- [ ] Hamburger menu appears on mobile
- [ ] Backdrop appears when sidebar open (mobile)
- [ ] Page title updates on navigation
- [ ] User menu dropdown works
- [ ] Settings link only for admin users

### Interaction Testing
- [ ] Click hamburger โ sidebar opens
- [ ] Click backdrop โ sidebar closes
- [ ] Navigate โ sidebar closes (mobile)
- [ ] Click user avatar โ dropdown opens
- [ ] Click outside dropdown โ dropdown closes
- [ ] Click logout โ modal appears
- [ ] Confirm logout โ redirects to login

### Responsive Testing
- [ ] Resize window across 768px breakpoint
- [ ] Test on actual mobile device
- [ ] Test on tablet (iPad)
- [ ] Test landscape and portrait orientations

### Scroll Testing
- [ ] Header stays sticky when scrolling
- [ ] Content scrolls independently
- [ ] No double scrollbars
- [ ] Sidebar scrolls if content exceeds height

## Common Issues & Solutions

### Issue: Sidebar not closing on mobile
**Solution:** Check `useEffect` in MainLayout that listens to route changes

### Issue: Double scrollbars
**Solution:** Ensure root has `overflow-hidden` and only content area has `overflow-y-auto`

### Issue: Backdrop not clickable
**Solution:** Verify z-index: backdrop (z-20) should be below sidebar (z-30)

### Issue: Header not sticky
**Solution:** Check `sticky top-0` class is applied to header

### Issue: User menu not closing
**Solution:** Verify backdrop div with `onClick` handler is rendered when menu is open
