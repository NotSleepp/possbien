[vite] connecting...
client:827 [vite] connected.
api.js:15 [auth/api.js] ========== REQUEST INTERCEPTOR ========== {method: 'GET', url: '/auth/me', fullUrl: 'http://localhost:3000/api/auth/me', headers: AxiosHeaders, hasData: false}
api.js:30 [auth/api.js] Token attached: eyJhbGciOiJIUzI1NiIs...
api.js:34 [auth/api.js] ========== END REQUEST INTERCEPTOR ==========
api.js:15 [auth/api.js] ========== REQUEST INTERCEPTOR ========== {method: 'GET', url: '/auth/me', fullUrl: 'http://localhost:3000/api/auth/me', headers: AxiosHeaders, hasData: false}
api.js:30 [auth/api.js] Token attached: eyJhbGciOiJIUzI1NiIs...
api.js:34 [auth/api.js] ========== END REQUEST INTERCEPTOR ==========
api.js:46 [auth/api.js] ========== RESPONSE INTERCEPTOR SUCCESS ========== {status: 200, url: '/auth/me'}
api.js:51 [auth/api.js] Response data: {"id":6,"id_empresa":3,"id_rol":7,"username":"danivercel1@gmail.com","password":"$2a$10$v0cjbo5CF.3PtQO/83N6f.zFt9UZ6uH1J/UwyVJKI8.H/YyV6qiSK","nombres":"cuenta","apellidos":"v0 1","email":"danivercel1@gmail.com","telefono":null,"activo":1,"ultimo_acceso":null,"id_tipodocumento":null,"nro_doc":null,"correo":null,"id_auth":"117597373637581799796","tema":"light","fecharegistro":"2025-10-28T22:00:45.000Z","estado":"ACTIVO","fecha_creacion":"2025-10-28T22:00:45.000Z","fecha_actualizacion":"2025-10-28T22:00:45.000Z","eliminado":0,"fecha_eliminacion":null}
api.js:53 [auth/api.js] ========== END RESPONSE INTERCEPTOR ==========
Sidebar.jsx:75 [Sidebar] user: {id: 6, id_empresa: 3, id_rol: 7, username: 'danivercel1@gmail.com', password: '$2a$10$v0cjbo5CF.3PtQO/83N6f.zFt9UZ6uH1J/UwyVJKI8.H/YyV6qiSK', …} id_rol= 7 rolId= 1
Sidebar.jsx:76 [Sidebar] visibleMenuItems: (6) [{…}, {…}, {…}, {…}, {…}, {…}]
Sidebar.jsx:75 [Sidebar] user: {id: 6, id_empresa: 3, id_rol: 7, username: 'danivercel1@gmail.com', password: '$2a$10$v0cjbo5CF.3PtQO/83N6f.zFt9UZ6uH1J/UwyVJKI8.H/YyV6qiSK', …} id_rol= 7 rolId= 1
Sidebar.jsx:76 [Sidebar] visibleMenuItems: (6) [{…}, {…}, {…}, {…}, {…}, {…}]
useProducts.js:14 [useProducts] INIT {idEmpresa: 3, userExists: true}
useProducts.js:14 [useProducts] INIT {idEmpresa: 3, userExists: true}
useProducts.js:26 [useProducts] queryFn START {idEmpresa: 3}
useProducts.js:33 [useProducts] GET /productos/empresa/3
ProductsPage.jsx:179 [ProductsPage] METRICS {total: 0, filtered: 0, paginated: 0, currentPage: 1, perPage: 10, …}
ProductsPage.jsx:334 [ProductsPage] buildSummary - product ids: []
ProductsPage.jsx:179 [ProductsPage] METRICS {total: 0, filtered: 0, paginated: 0, currentPage: 1, perPage: 10, …}
ProductsPage.jsx:334 [ProductsPage] buildSummary - product ids: []
api.js:15 [api.js] ========== REQUEST INTERCEPTOR ==========
api.js:16 [api.js] Method: GET
api.js:17 [api.js] URL: /productos/empresa/3
api.js:18 [api.js] Full URL: http://localhost:3000/api/productos/empresa/3
api.js:19 [api.js] Headers: AxiosHeaders {Accept: 'application/json, text/plain, */*', Content-Type: 'application/json'}
api.js:20 [api.js] Data: undefined
api.js:21 [api.js] Data type: undefined
api.js:29 [api.js] Token attached: eyJhbGciOiJIUzI1NiIs...
api.js:34 [api.js] ========== END REQUEST INTERCEPTOR ==========
api.js:15 [api.js] ========== REQUEST INTERCEPTOR ==========
api.js:16 [api.js] Method: GET
api.js:17 [api.js] URL: /categorias/por-empresa/3
api.js:18 [api.js] Full URL: http://localhost:3000/api/categorias/por-empresa/3
api.js:19 [api.js] Headers: AxiosHeaders {Accept: 'application/json, text/plain, */*', Content-Type: 'application/json'}
api.js:20 [api.js] Data: undefined
api.js:21 [api.js] Data type: undefined
api.js:29 [api.js] Token attached: eyJhbGciOiJIUzI1NiIs...
api.js:34 [api.js] ========== END REQUEST INTERCEPTOR ==========
Sidebar.jsx:75 [Sidebar] user: {id: 6, id_empresa: 3, id_rol: 7, username: 'danivercel1@gmail.com', password: '$2a$10$v0cjbo5CF.3PtQO/83N6f.zFt9UZ6uH1J/UwyVJKI8.H/YyV6qiSK', …} id_rol= 7 rolId= 1
Sidebar.jsx:76 [Sidebar] visibleMenuItems: (6) [{…}, {…}, {…}, {…}, {…}, {…}]
Sidebar.jsx:75 [Sidebar] user: {id: 6, id_empresa: 3, id_rol: 7, username: 'danivercel1@gmail.com', password: '$2a$10$v0cjbo5CF.3PtQO/83N6f.zFt9UZ6uH1J/UwyVJKI8.H/YyV6qiSK', …} id_rol= 7 rolId= 1
Sidebar.jsx:76 [Sidebar] visibleMenuItems: (6) [{…}, {…}, {…}, {…}, {…}, {…}]
useProducts.js:14 [useProducts] INIT {idEmpresa: 3, userExists: true}
useProducts.js:14 [useProducts] INIT {idEmpresa: 3, userExists: true}
ProductsPage.jsx:179 [ProductsPage] METRICS {total: 0, filtered: 0, paginated: 0, currentPage: 1, perPage: 10, …}
ProductsPage.jsx:334 [ProductsPage] buildSummary - product ids: []
api.js:46 [auth/api.js] ========== RESPONSE INTERCEPTOR SUCCESS ========== {status: 200, url: '/auth/me'}
api.js:51 [auth/api.js] Response data: {"id":6,"id_empresa":3,"id_rol":7,"username":"danivercel1@gmail.com","password":"$2a$10$v0cjbo5CF.3PtQO/83N6f.zFt9UZ6uH1J/UwyVJKI8.H/YyV6qiSK","nombres":"cuenta","apellidos":"v0 1","email":"danivercel1@gmail.com","telefono":null,"activo":1,"ultimo_acceso":null,"id_tipodocumento":null,"nro_doc":null,"correo":null,"id_auth":"117597373637581799796","tema":"light","fecharegistro":"2025-10-28T22:00:45.000Z","estado":"ACTIVO","fecha_creacion":"2025-10-28T22:00:45.000Z","fecha_actualizacion":"2025-10-28T22:00:45.000Z","eliminado":0,"fecha_eliminacion":null}
api.js:53 [auth/api.js] ========== END RESPONSE INTERCEPTOR ==========
Sidebar.jsx:75 [Sidebar] user: {id: 6, id_empresa: 3, id_rol: 7, username: 'danivercel1@gmail.com', password: '$2a$10$v0cjbo5CF.3PtQO/83N6f.zFt9UZ6uH1J/UwyVJKI8.H/YyV6qiSK', …} id_rol= 7 rolId= 1
Sidebar.jsx:76 [Sidebar] visibleMenuItems: (6) [{…}, {…}, {…}, {…}, {…}, {…}]
Sidebar.jsx:75 [Sidebar] user: {id: 6, id_empresa: 3, id_rol: 7, username: 'danivercel1@gmail.com', password: '$2a$10$v0cjbo5CF.3PtQO/83N6f.zFt9UZ6uH1J/UwyVJKI8.H/YyV6qiSK', …} id_rol= 7 rolId= 1
Sidebar.jsx:76 [Sidebar] visibleMenuItems: (6) [{…}, {…}, {…}, {…}, {…}, {…}]
useProducts.js:14 [useProducts] INIT {idEmpresa: 3, userExists: true}
useProducts.js:14 [useProducts] INIT {idEmpresa: 3, userExists: true}
ProductsPage.jsx:179 [ProductsPage] METRICS {total: 0, filtered: 0, paginated: 0, currentPage: 1, perPage: 10, …}
ProductsPage.jsx:334 [ProductsPage] buildSummary - product ids: []
Sidebar.jsx:75 [Sidebar] user: {id: 6, id_empresa: 3, id_rol: 7, username: 'danivercel1@gmail.com', password: '$2a$10$v0cjbo5CF.3PtQO/83N6f.zFt9UZ6uH1J/UwyVJKI8.H/YyV6qiSK', …} id_rol= 7 rolId= 1
Sidebar.jsx:76 [Sidebar] visibleMenuItems: (6) [{…}, {…}, {…}, {…}, {…}, {…}]
Sidebar.jsx:75 [Sidebar] user: {id: 6, id_empresa: 3, id_rol: 7, username: 'danivercel1@gmail.com', password: '$2a$10$v0cjbo5CF.3PtQO/83N6f.zFt9UZ6uH1J/UwyVJKI8.H/YyV6qiSK', …} id_rol= 7 rolId= 1
Sidebar.jsx:76 [Sidebar] visibleMenuItems: (6) [{…}, {…}, {…}, {…}, {…}, {…}]
useProducts.js:14 [useProducts] INIT {idEmpresa: 3, userExists: true}
useProducts.js:14 [useProducts] INIT {idEmpresa: 3, userExists: true}
ProductsPage.jsx:179 [ProductsPage] METRICS {total: 0, filtered: 0, paginated: 0, currentPage: 1, perPage: 10, …}
ProductsPage.jsx:334 [ProductsPage] buildSummary - product ids: []
useProducts.js:14 [useProducts] INIT {idEmpresa: 3, userExists: true}
useProducts.js:14 [useProducts] INIT {idEmpresa: 3, userExists: true}
api.js:46 [api.js] ========== RESPONSE INTERCEPTOR SUCCESS ==========
api.js:47 [api.js] Status: 200
api.js:48 [api.js] Data: (2) [{…}, {…}]
api.js:49 [api.js] ========== END RESPONSE INTERCEPTOR ==========
useProducts.js:36 [useProducts] queryFn SUCCESS {count: 2}
useProducts.js:38 [useProducts] First item keys: (22) ['id', 'id_empresa', 'id_categoria', 'codigo', 'codigo_interno', 'codigo_barras', 'nombre', 'descripcion', 'precio_compra', 'precio_venta', 'stock_minimo', 'unidad_medida', 'sevende_por', 'maneja_inventarios', 'maneja_multiprecios', 'imagen_url', 'activo', 'fecha_creacion', 'fecha_actualizacion', 'eliminado', 'fecha_eliminacion', 'stock_actual']
api.js:46 [api.js] ========== RESPONSE INTERCEPTOR SUCCESS ==========
api.js:47 [api.js] Status: 200
api.js:48 [api.js] Data: [{…}]
api.js:49 [api.js] ========== END RESPONSE INTERCEPTOR ==========
ProductsPage.jsx:179 [ProductsPage] METRICS {total: 0, filtered: 0, paginated: 0, currentPage: 1, perPage: 10, …}
ProductsPage.jsx:334 [ProductsPage] buildSummary - product ids: []
useProducts.js:14 [useProducts] INIT {idEmpresa: 3, userExists: true}
useProducts.js:14 [useProducts] INIT {idEmpresa: 3, userExists: true}
ProductsPage.jsx:179 [ProductsPage] METRICS {total: 2, filtered: 2, paginated: 2, currentPage: 1, perPage: 10, …}
ProductsPage.jsx:334 [ProductsPage] buildSummary - product ids: (2) [13, 12]
stocks.api.js:62 [stocks.api] GET by product
stocks.api.js:63 [stocks.api] idProducto: 13
stocks.api.js:62 [stocks.api] GET by product
stocks.api.js:63 [stocks.api] idProducto: 12
api.js:15 [api.js] ========== REQUEST INTERCEPTOR ==========
api.js:16 [api.js] Method: GET
api.js:17 [api.js] URL: /stocks/por-producto/13
api.js:18 [api.js] Full URL: http://localhost:3000/api/stocks/por-producto/13
api.js:19 [api.js] Headers: AxiosHeaders {Accept: 'application/json, text/plain, */*', Content-Type: 'application/json'}
api.js:20 [api.js] Data: undefined
api.js:21 [api.js] Data type: undefined
api.js:29 [api.js] Token attached: eyJhbGciOiJIUzI1NiIs...
api.js:34 [api.js] ========== END REQUEST INTERCEPTOR ==========
api.js:15 [api.js] ========== REQUEST INTERCEPTOR ==========
api.js:16 [api.js] Method: GET
api.js:17 [api.js] URL: /stocks/por-producto/12
api.js:18 [api.js] Full URL: http://localhost:3000/api/stocks/por-producto/12
api.js:19 [api.js] Headers: AxiosHeaders {Accept: 'application/json, text/plain, */*', Content-Type: 'application/json'}
api.js:20 [api.js] Data: undefined
api.js:21 [api.js] Data type: undefined
api.js:29 [api.js] Token attached: eyJhbGciOiJIUzI1NiIs...
api.js:34 [api.js] ========== END REQUEST INTERCEPTOR ==========
api.js:46 [api.js] ========== RESPONSE INTERCEPTOR SUCCESS ==========
api.js:47 [api.js] Status: 200
api.js:48 [api.js] Data: (2) [{…}, {…}]
api.js:49 [api.js] ========== END RESPONSE INTERCEPTOR ==========
stocks.api.js:65 [stocks.api] response status: 200
stocks.api.js:67 [stocks.api] result length: 2
stocks.api.js:69 [stocks.api] first item keys: (12) ['id', 'idEmpresa', 'idProducto', 'idAlmacen', 'stock', 'cantidadActual', 'cantidadReservada', 'cantidadDisponible', 'stockMinimo', 'stockMaximo', 'ubicacion', 'fechaActualizacion']
api.js:46 [api.js] ========== RESPONSE INTERCEPTOR SUCCESS ==========
api.js:47 [api.js] Status: 200
api.js:48 [api.js] Data: [{…}]
api.js:49 [api.js] ========== END RESPONSE INTERCEPTOR ==========
stocks.api.js:65 [stocks.api] response status: 200
stocks.api.js:67 [stocks.api] result length: 1
stocks.api.js:69 [stocks.api] first item keys: (12) ['id', 'idEmpresa', 'idProducto', 'idAlmacen', 'stock', 'cantidadActual', 'cantidadReservada', 'cantidadDisponible', 'stockMinimo', 'stockMaximo', 'ubicacion', 'fechaActualizacion']
api.js:15 [api.js] ========== REQUEST INTERCEPTOR ==========
api.js:16 [api.js] Method: GET
api.js:17 [api.js] URL: /almacenes/5
api.js:18 [api.js] Full URL: http://localhost:3000/api/almacenes/5
api.js:19 [api.js] Headers: AxiosHeaders {Accept: 'application/json, text/plain, */*', Content-Type: 'application/json'}
api.js:20 [api.js] Data: undefined
api.js:21 [api.js] Data type: undefined
api.js:29 [api.js] Token attached: eyJhbGciOiJIUzI1NiIs...
api.js:34 [api.js] ========== END REQUEST INTERCEPTOR ==========
api.js:15 [api.js] ========== REQUEST INTERCEPTOR ==========
api.js:16 [api.js] Method: GET
api.js:17 [api.js] URL: /almacenes/6
api.js:18 [api.js] Full URL: http://localhost:3000/api/almacenes/6
api.js:19 [api.js] Headers: AxiosHeaders {Accept: 'application/json, text/plain, */*', Content-Type: 'application/json'}
api.js:20 [api.js] Data: undefined
api.js:21 [api.js] Data type: undefined
api.js:29 [api.js] Token attached: eyJhbGciOiJIUzI1NiIs...
api.js:34 [api.js] ========== END REQUEST INTERCEPTOR ==========
api.js:46 [api.js] ========== RESPONSE INTERCEPTOR SUCCESS ==========
api.js:47 [api.js] Status: 200
api.js:48 [api.js] Data: {id: 5, id_empresa: 3, id_sucursal: 3, codigo: '001', nombre: 'Almacén Principal', …}
api.js:49 [api.js] ========== END RESPONSE INTERCEPTOR ==========
api.js:46 [api.js] ========== RESPONSE INTERCEPTOR SUCCESS ==========
api.js:47 [api.js] Status: 200
api.js:48 [api.js] Data: {id: 6, id_empresa: 3, id_sucursal: 4, codigo: 'SDFS', nombre: 'asd', …}
api.js:49 [api.js] ========== END RESPONSE INTERCEPTOR ==========
useProducts.js:14 [useProducts] INIT {idEmpresa: 3, userExists: true}
useProducts.js:14 [useProducts] INIT {idEmpresa: 3, userExists: true}
ProductsPage.jsx:210 [ProductsPage] handleEdit START {product: {…}}
ProductsPage.jsx:231 [ProductsPage] handleEdit nextForm {idEmpresa: 3, idCategoria: 10, idSucursal: '', idAlmacen: '', codigo: '1111', …}
stocks.api.js:62 [stocks.api] GET by product
stocks.api.js:63 [stocks.api] idProducto: 13
useProducts.js:14 [useProducts] INIT {idEmpresa: 3, userExists: true}
useProducts.js:14 [useProducts] INIT {idEmpresa: 3, userExists: true}
api.js:15 [api.js] ========== REQUEST INTERCEPTOR ==========
api.js:16 [api.js] Method: GET
api.js:17 [api.js] URL: /stocks/por-producto/13
api.js:18 [api.js] Full URL: http://localhost:3000/api/stocks/por-producto/13
api.js:19 [api.js] Headers: AxiosHeaders {Accept: 'application/json, text/plain, */*', Content-Type: 'application/json'}
api.js:20 [api.js] Data: undefined
api.js:21 [api.js] Data type: undefined
api.js:29 [api.js] Token attached: eyJhbGciOiJIUzI1NiIs...
api.js:34 [api.js] ========== END REQUEST INTERCEPTOR ==========
api.js:15 [api.js] ========== REQUEST INTERCEPTOR ==========
api.js:16 [api.js] Method: GET
api.js:17 [api.js] URL: /sucursales/por-empresa/3
api.js:18 [api.js] Full URL: http://localhost:3000/api/sucursales/por-empresa/3
api.js:19 [api.js] Headers: AxiosHeaders {Accept: 'application/json, text/plain, */*', Content-Type: 'application/json'}
api.js:20 [api.js] Data: undefined
api.js:21 [api.js] Data type: undefined
api.js:29 [api.js] Token attached: eyJhbGciOiJIUzI1NiIs...
api.js:34 [api.js] ========== END REQUEST INTERCEPTOR ==========
api.js:46 [api.js] ========== RESPONSE INTERCEPTOR SUCCESS ==========
api.js:47 [api.js] Status: 200
api.js:48 [api.js] Data: (2) [{…}, {…}]
api.js:49 [api.js] ========== END RESPONSE INTERCEPTOR ==========
stocks.api.js:65 [stocks.api] response status: 200
stocks.api.js:67 [stocks.api] result length: 2
stocks.api.js:69 [stocks.api] first item keys: (12) ['id', 'idEmpresa', 'idProducto', 'idAlmacen', 'stock', 'cantidadActual', 'cantidadReservada', 'cantidadDisponible', 'stockMinimo', 'stockMaximo', 'ubicacion', 'fechaActualizacion']
ProductsPage.jsx:242 [ProductsPage] handleEdit stocks list: (2) [{…}, {…}]
api.js:46 [api.js] ========== RESPONSE INTERCEPTOR SUCCESS ==========
api.js:47 [api.js] Status: 200
api.js:48 [api.js] Data: (2) [{…}, {…}]
api.js:49 [api.js] ========== END RESPONSE INTERCEPTOR ==========
useProducts.js:14 [useProducts] INIT {idEmpresa: 3, userExists: true}
useProducts.js:14 [useProducts] INIT {idEmpresa: 3, userExists: true}
useProducts.js:14 [useProducts] INIT {idEmpresa: 3, userExists: true}
useProducts.js:14 [useProducts] INIT {idEmpresa: 3, userExists: true}